<div class="main-content">
  <div class="container-fluid">
    <div class="col-md-8">
      <div class="wizard-container">
        <div class="card card-wizard" data-color="rose" id="wizardProfile">
          <form [formGroup]="type" action="" method="">
            <div class="card-header text-center">
              <h3 class="card-title">
                {{ solution.title || "Let's add content" }}
              </h3>
            </div>
            <div class="wizard-navigation">
              <ul class="nav nav-pills">
                <li class="nav-item">
                  <a class="nav-link active" href="#text" data-toggle="tab" role="tab">
                    Text
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#media" data-toggle="tab" role="tab">
                    Media:
                    image(s) and video(s)
                  </a>
                </li>
              </ul>
            </div>
            <div class="card-body">
              <div class="tab-content">
                <div class="tab-pane active" id="text">
                  <a href="#media" data-toggle="tab" role="tab" class="nav-link">
                    image(s) and video(s) attached</a>

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons" [ngStyle]="{
                              color: !solution.title
                                ? 'red'
                                : '#495057'
                            }">title</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label" [ngClass]="displayFieldCss(type, 'title')">
                          <input type="text" matInput id="title" appAutofocus placeholder="Title *"
                            formControlName="title" [(ngModel)]="solution.title">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons" [ngStyle]="{
                              color: !solution.description
                                ? 'red'
                                : '#495057'
                            }">description</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label"
                          [ngClass]="displayFieldCss(type, 'description')">
                          <textarea type="text" name="description" matInput id="description" placeholder="Description *"
                            formControlName="description" [(ngModel)]="solution.description" rows="4"
                            wrap="hard"></textarea>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <br />
                  <br />
                  <br />

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons"
                              [ngStyle]="{color: !solution.technology ? 'red' : '#495057'}">build</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label"
                          [ngClass]="displayFieldCss(type, 'technology')">
                          <input type="text" name="technology" matInput id="technology" appAutofocus
                            placeholder="Technology *" formControlName="technology" [(ngModel)]="solution.technology">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons"
                              [ngStyle]="{color: !solution.impact ? 'red' : '#495057'}">trending_up</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label"
                          [ngClass]="displayFieldCss(type, 'impact')">
                          <textarea type="text" name="impact" matInput id="impact" placeholder="Impact *"
                            formControlName="impact" [(ngModel)]="solution.impact"></textarea>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <br />

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons">language</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label"
                          [ngClass]="displayFieldCss(type, 'website_url')">
                          <input type="text" name="website_url" matInput id="website_url" appAutofocus
                            placeholder="Website" formControlName="website_url" [(ngModel)]="solution.website_url">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons"
                              [ngStyle]="{color: !solution.deployment ? 'red' : '#495057'}">local_shipping</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label"
                          [ngClass]="displayFieldCss(type, 'deployment')">
                          <input type="number" name="deployment" matInput id="deployment" appAutofocus
                            placeholder="Deployments *" formControlName="deployment" [(ngModel)]="solution.deployment">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <div class="row justify-content-center">
                    <div class="col-sm-12">
                      <div class="input-group form-control-lg">
                        <div class="row">
                          <div class="col-sm-2">
                            <div class="input-group-prepend">
                              <span class="input-group-text">
                                <i class="material-icons"
                                  [ngStyle]="{color: (!solution.budget.title && !solution.budget.cost) ? 'red' : '#495057'}">monetization_on</i>
                              </span>
                            </div>
                          </div>
                          <div class="col-sm-10">
                            <div class="row">
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width has-label"
                                  [ngClass]="displayFieldCss(type, 'deployment')">
                                  <input type="text" name="budget" matInput id="budget" appAutofocus
                                    placeholder="Budget title *" formControlName="budget"
                                    [(ngModel)]="solution.budget.title">
                                </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width has-label"
                                  [ngClass]="displayFieldCss(type, 'assessment_metrics')">
                                  <input type="number" name="budget" matInput id="budget" appAutofocus
                                    placeholder="Cost *" formControlName="budgetCost"
                                    [(ngModel)]="solution.budget.cost">
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="tab-pane" id="media">
                  <div class="row justify-content-center">
                    <a href="#media" data-toggle="tab" role="tab" class="nav-link"
                      *ngIf="solution.image_urls.length+solution.video_urls.length>0">{{solution.image_urls.length}}
                      image(s) and {{solution.video_urls.length}} video(s) attached</a>
                  </div>
                  <div class="row justify-content-center">
                    <div class="col-sm-6">
                      <div class="picture-container">
                        <div class="picture">
                          <img src="./assets/img/plus.png" class="picture-src" id="wizardPicturePreview" title="" />
                          <input type="file" id="file_input_btn" (change)="onFileSelectForBiggerFiles($event)"
                            name="..." multiple accept="{{file_types.join(',')}}">
                        </div>
                        <h6 class="description">Choose Media</h6>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="material-icons" [ngStyle]="{
                          color: checkMedialUrl(media_url) == false
                            ? 'red'
                            : '#AAAAAA'
                        }">link</i>
                          </span>
                        </div>
                        <mat-form-field class="example-full-width has-label">
                          <input type="text" name="media_url" matInput id="media_url" formControlName="media_url"
                            placeholder="Video URL (youtube,vimeo and dailymotion)" [(ngModel)]="media_url">
                        </mat-form-field>
                        <button class="btn btn-success" [disabled]="checkMedialUrl(media_url) == false"
                          (click)="addMediaUrl()">
                          Add Video By URL
                        </button>
                        <!-- <input type="button" class="btn btn-finish btn-fill btn-success btn-wd" (click)="addMediaUrl()"
                        name="add_media_url" [disabled]="!media_url.startsWith('http')" value="Add Video By URL"
                        style="display: none;"> -->
                      </div>
                    </div>
                  </div>

                  <div class="row" id="loader" style="display:none;">
                    <div class="col">
                      <div class="d-flex align-items-center">
                        <i class="fa fa-spinner fa-spin" style="font-size:32px;color: grey;"></i>
                        <strong>&nbsp;&nbsp; Uploading...</strong>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="alert col-md-6">
                      <em>Select <i class="material-icons orange600">turned_in</i> to set as featured image</em>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-4" *ngFor="let imgSrc of solution.image_urls;let i = index">
                      <div class="card card-product">
                        <div class="card-header card-header-image" data-header-animation="false">
                          <img class="img" src="{{ imgSrc.url }}">
                        </div>
                        <div class="card-body"></div>
                        <div class="card-footer">
                          <div class="price">
                            <button mat-raised-button type="button" class="btn btn-default btn-link"
                              matTooltip="Select icon to set as featured image" [matTooltipPosition]="'below'"
                              (click)="setFeatured('image',i)">
                              <i *ngIf="imgSrc.url !== solution.featured_url" class="material-icons">turned_in_not</i>
                              <i *ngIf="imgSrc.url === solution.featured_url"
                                class="material-icons orange600">turned_in</i>
                            </button>
                          </div>
                          <div class="stats">
                            <button mat-raised-button type="button" class="btn btn-danger btn-link" matTooltip="Remove"
                              [matTooltipPosition]="'below'" (click)="removePhoto(i)">
                              <i class="material-icons">close</i>
                            </button>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4" *ngFor="let video of solution.video_urls;let i = index">
                      <div class="card card-product">
                        <div class="card-header card-header-image" data-header-animation="false">
                          <video controls width="100%">
                            <source src="{{video.url}}">
                            Your browser does not support the video tag.
                          </video>
                        </div>
                        <div class="card-body">{{video.key}}</div>
                        <div class="card-footer">
                          <div class="price">
                            <!-- <button mat-raised-button type="button" class="btn btn-default btn-link" matTooltip="Feature"
                            [matTooltipPosition]="'below'" (click)="setFeatured('video',i)">
                            <i *ngIf="video.url !== solution.featured_url" class="material-icons">turned_in_not</i>
                            <i *ngIf="video.url === solution.featured_url" class="material-icons">turned_in</i>
                          </button> -->
                          </div>
                          <div class="stats">
                            <button mat-raised-button type="button" class="btn btn-danger btn-link" matTooltip="Remove"
                              [matTooltipPosition]="'below'" (click)="removeVideo(i)">
                              <i class="material-icons">close</i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4" *ngFor="let embed_url of solution.embed_urls;let i = index">
                      <div class="card card-product">
                        <div class="card-body">{{embed_url}}</div>
                        <div class="card-footer">
                          <div class="price">
                            <!-- <button mat-raised-button type="button" class="btn btn-default btn-link" matTooltip="Feature"
                            [matTooltipPosition]="'below'" (click)="setFeatured('embed',i)">
                            <i *ngIf="embed_url !== solution.featured_url" class="material-icons">turned_in_not</i>
                            <i *ngIf="embed_url === solution.featured_url" class="material-icons">turned_in</i>
                          </button> -->
                          </div>
                          <div class="stats">
                            <button mat-raised-button type="button" class="btn btn-danger btn-link" matTooltip="Remove"
                              [matTooltipPosition]="'below'" (click)="removeEmbed(i)">
                              <i class="material-icons">close</i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4" *ngFor="let attachment of solution.attachments;let i = index">
                      <div class="card card-product">
                        <div class="card-body">
                          <i class="material-icons" style="zoom:2; color: grey;">
                            description
                          </i>
                          {{attachment.key}}
                        </div>
                        <div class="card-footer">
                          <div class="price">
                            <!-- <button mat-raised-button type="button" class="btn btn-default btn-link" matTooltip="Feature"
                            [matTooltipPosition]="'below'" (click)="setFeatured('embed',i)">
                            <i *ngIf="embed_url !== solution.featured_url" class="material-icons">turned_in_not</i>
                            <i *ngIf="embed_url === solution.featured_url" class="material-icons">turned_in</i>
                          </button> -->
                          </div>
                          <div class="stats">
                            <button mat-raised-button type="button" class="btn btn-danger btn-link" matTooltip="Remove"
                              [matTooltipPosition]="'below'" (click)="removeAttachment(i)">
                              <i class="material-icons">close</i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card-footer">
              <div class="mr-auto">
                <input type="button" class="btn" onclick="window.history.back()" name="cancel" value="Cancel">
              </div>
              <div class="ml-auto">
                <!-- <button class="btn btn-danger" (click)="deleteClicked()">
                Delete
              </button> -->
                <input type="button" class="btn btn-previous btn-fill btn-default btn-wd disabled" name="previous"
                  value="Previous">
                <input type="button" class="publish btn btn-fill btn-rose btn-wd" (click)="submitSolutionToDB()"
                  value="Publish">
                <input type="button" class="btn btn-next btn-fill btn-rose btn-wd" [disabled]="!isComplete()"
                  name="next" value="Next">
                <!-- <input type="button" class="btn btn-finish btn-fill btn-warning btn-wd" [disabled]="!isComplete()"
                (click)="publishContent()" name="finish" value="Publish" style="display: none;"> -->
              </div>
              <div class="clearfix"></div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>