<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card card-product">
          <div class="card-header card-header-warning card-header-text">
            <div class="card-text">
              <h4 class="card-title">Enter Your Details</h4>
            </div>
          </div>
          <div class="card-body">
            <form class="form-horizontal" (ngSubmit)="onSubmit()" #userForm="ngForm">
              <div class="form-group">
                <div class="row">
                  <label class="col-md-2 col-2 col-form-label">Photo</label>
                  <div class="col-md-3 col-sm-4">
                    <div class="fileinput fileinput-new text-center" data-provides="fileinput">
                      <div class="fileinput-new thumbnail img-circle">
                        <img src="{{
                            userHandlerService.user.photo_url &&
                            userHandlerService.user.photo_url.url
                              ? userHandlerService.user.photo_url.url
                              : './assets/img/placeholder.jpg'
                          }}"
                          alt="..." />
                      </div>
                      <div class="fileinput-preview fileinput-exists thumbnail img-circle"></div>
                      <div>
                        <span class="btn btn-round btn-rose btn-file">
                          <span class="fileinput-new">Add Photo</span>
                          <span class="fileinput-exists">Change</span>
                          <input type="file" name="..." (change)="getBlob($event)" accept="image/*" />
                        </span>
                        <br />
                        <a href="#pablo" class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput"><i
                            class="fa fa-times"></i> Remove</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <label class="col-md-2 col-2 col-form-label" [ngStyle]="{
                      color: !userHandlerService.user.name ? 'red' : 'grey'
                    }">Fullname</label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="text" name="name" required [(ngModel)]="userHandlerService.user.name" #name="ngModel"
                        ngDefaultControl />
                    </mat-form-field>
                    <div [hidden]="name.valid || name.pristine" class="text-danger error-msg">
                      Name is required
                    </div>
                  </div>
                </div>
                <!-- <div class="row">
                <label class="col-md-2 col-2 col-form-label">Last Name</label>
                <div class="col-md-10 col-9">
                  <mat-form-field class="example-full-width">
                    <input matInput type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="userHandlerService.user.name">
                  </mat-form-field>
                </div>
              </div> -->
                <div class="row">
                  <label class="col-md-2 col-2 col-form-label">Organization</label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="text" name="organization" [(ngModel)]="userHandlerService.user.organization" />
                    </mat-form-field>
                  </div>
                </div>
                <!-- <div class="row">
                  <label class="col-md-2 col-2 col-form-label" [ngStyle]="{ 'color' : (!userHandlerService.user.interest) ? 'red' : 'grey' }">Interests
                    </label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="text" name="interests" required [(ngModel)]="userHandlerService.user.interest"
                        #interests="ngModel">
                    </mat-form-field>
                    <div [hidden]="interests.valid || interests.pristine" class="text-danger error-msg">
                      Interests is required
                    </div>
                  </div>
                </div> -->

                <!-- <div class="row">
                <label class="col-md-2 col-2 col-form-label">Sectors & Interests</label>
                <div class="col-md-6">
                  <tag-input [(ngModel)]='regularItems' [ngModelOptions]="{standalone: true}" theme='filled-theme'
                    placeholder="Enter a new tag"></tag-input>
                </div>
              </div> -->
                <!-- <div class="row">
                  <label class="col-md-2 col-2 col-form-label">Expertise</label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="text" name="expertise" [(ngModel)]="userHandlerService.user.expertise">
                    </mat-form-field>
                  </div>
                </div> -->

                <div class="row">
                  <label class="col-md-2 col-2 col-form-label" [ngStyle]="{
                    color: !userHandlerService.user.phone_number
                      ? 'red'
                      : 'grey'
                  }">
                    Persona *</label>
                  <div class="col-md-10 col-9">
                    <mat-form-field>
                      <mat-select [(ngModel)]="userHandlerService.user.personas" name="userHandlerService.user.personas"
                        multiple>
                        <mat-option *ngFor="let persona of userHandlerService.personaList" [value]="persona">{{persona}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row">
                  <label class="col-md-2 col-2 col-form-label" [ngStyle]="{
                      color: !userHandlerService.user.phone_number
                        ? 'red'
                        : 'grey'
                    }">Phone
                    number
                  </label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="phone" name="phone_number" required [(ngModel)]="userHandlerService.user.phone_number"
                        #phone_number="ngModel" />
                    </mat-form-field>
                    <div [hidden]="phone_number.valid || phone_number.pristine" class="text-danger error-msg">
                      Phone number is required
                    </div>
                  </div>
                </div>
                <!-- <div class="row">
                  <label class="col-md-2 col-2 col-form-label">E-mail</label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="text" name="email" [(ngModel)]="userHandlerService.user.email">
                    </mat-form-field>
                  </div>
                </div> -->

                <div class="row">
                  <label class="col-sm-2 col-form-label" [ngStyle]="{ color: !tags ? 'red' : 'grey' }">Interests *</label>

                  <div class="col-sm-10">
                    <!-- <tag-input [(ngModel)]="tags" name="tag" required [ngModelOptions]="{ standalone: true }" theme="filled-theme"
                      (onTextChange)="onTextChange($event)" #tag="ngModel">
                      <tag-input-dropdown [autocompleteItems]="autoCompleteTags">
                      </tag-input-dropdown>
                    </tag-input> -->
                    <div [hidden]="tag.valid || tag.pristine" class="text-danger error-msg">
                      Interests <b>required</b>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <label class="col-md-2 col-2 col-form-label" [ngStyle]="{
                      color: !userHandlerService.user.location ? 'red' : 'grey'
                    }">Location
                    (Geo)
                  </label>
                  <div class="col-md-10 col-9">
                    <mat-form-field class="example-full-width">
                      <input matInput type="text" name="location" required (keyup)="getAddress()" [(ngModel)]="userHandlerService.user.location"
                        #location="ngModel" />
                      <table style="width: 100%" id="table">
                        <tbody>
                          <tr *ngFor="let location of locations">
                            <td (click)="storeLocation($event)">
                              <button style="width: 50%; background-color: #FFFF">
                                {{ location.Location.Address.Label }}
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </mat-form-field>
                    <div [hidden]="location.valid || location.pristine" class="text-danger error-msg">
                      Location is required
                    </div>
                  </div>
                </div>
                <!-- <div class="row">
                <label class="col-md-2 col-2 col-form-label">Persona</label>
                <div class="col-md-10 col-9">
                  <mat-form-field class="example-full-width">
                    <input matInput type="text" name="personas" [(ngModel)]="userHandlerService.user.personas">
                  </mat-form-field>
                </div>
              </div> -->
                <!-- <div class="row">
                <label class="col-md-2 col-2 col-form-label">Select Persona</label>
                <div class="col-lg-4 col-md-6 col-sm-3">
                  <div class="dropdown">
                    <button mat-raised-button href="#pablo" class="dropdown-toggle btn btn-warning btn-round btn-block"
                      data-toggle="dropdown">Persona
                      <b class="caret"></b>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-left">
                      <li class="dropdown-header">Dropdown header</li>
                      <li>
                        <a href="#pablo">Persona 1</a>
                      </li>
                      <li>
                        <a href="#pablo">Persona 2</a>
                      </li>
                      <li>
                        <a href="#pablo">Persona 3</a>
                      </li>
                      <li class="divider"></li>
                      <li>
                        <a href="#pablo">Persona 4</a>
                      </li>
                      <li class="divider"></li>
                      <li>
                        <a href="#pablo">Persona 5</a>
                      </li>
                    </ul>
                  </div>
                </div>



          </div> -->
              </div>
            </form>
          </div>
          <div class="card-footer row justify-content-center" *ngIf="mode === 'Add'">
            <button mat-raised-button class="btn btn-warning" type="submit" [disabled]="!userForm.form.valid" (click)="onSubmit()">
              Save Details
            </button>

            <!-- <button mat-raised-button class="btn btn-warning" (click)="userHandlerService.updateUser(userHandleService.userId,userHandleService.user)"
          *ngIf="mode==='Edit'">
          <i class="material-icons">create</i>Edit Details</button> -->
          </div>

          <div class="card-footer row justify-content-center" *ngIf="mode === 'Edit'">
            <button mat-raised-button class="btn btn-warning" type="submit" [disabled]="!userForm.form.valid" (click)="onSubmit()">
              Update
            </button>

            <!-- <button mat-raised-button class="btn btn-warning" (click)="userHandlerService.updateUser(userHandleService.userId,userHandleService.user)"
          *ngIf="mode==='Edit'">
          <i class="material-icons">create</i>Edit Details</button> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>